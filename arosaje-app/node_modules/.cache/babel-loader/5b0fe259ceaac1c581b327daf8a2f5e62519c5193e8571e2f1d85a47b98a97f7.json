{"ast":null,"code":"export default {\n  name: \"QRCode\",\n  data() {\n    return {\n      qrCodeDataURI: \"\"\n    };\n  },\n  mounted() {\n    // Call API to generate OTP and get QR code image for current user\n    this.generateOTP();\n  },\n  methods: {\n    async generateOTP() {\n      // Get current user ID from session\n      const userId = this.$store.getters[\"auth/getUserId\"];\n\n      // Call API to generate OTP and get QR code image for current user\n      const response = await fetch(`http://localhost:3000/otp/generate?user_id=${userId}`);\n      const data = await response.json();\n      this.qrCodeDataURI = data.qrCodeDataURI;\n    }\n  }\n};","map":{"version":3,"names":["name","data","qrCodeDataURI","mounted","generateOTP","methods","userId","$store","getters","response","fetch","json"],"sources":["C:\\Users\\toumy\\Desktop\\projet_mspr\\a-rosa-je_mspr_epsi\\arosaje-app\\src\\views\\doubleAuth.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <img :src=\"qrCodeDataURI\" alt=\"QR code\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"QRCode\",\r\n  data() {\r\n    return {\r\n      qrCodeDataURI: \"\"\r\n    };\r\n  },\r\n  mounted() {\r\n    // Call API to generate OTP and get QR code image for current user\r\n    this.generateOTP();\r\n  },\r\n  methods: {\r\n    async generateOTP() {\r\n      // Get current user ID from session\r\n      const userId = this.$store.getters[\"auth/getUserId\"];\r\n\r\n      // Call API to generate OTP and get QR code image for current user\r\n      const response = await fetch(`http://localhost:3000/otp/generate?user_id=${userId}`);\r\n      const data = await response.json();\r\n      this.qrCodeDataURI = data.qrCodeDataURI;\r\n    }\r\n  }\r\n};\r\n</script>\r\n"],"mappings":"AAOA,eAAe;EACbA,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,WAAW,EAAE;EACpB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,WAAWA,CAAA,EAAG;MAClB;MACA,MAAME,MAAK,GAAI,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,gBAAgB,CAAC;;MAEpD;MACA,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAE,8CAA6CJ,MAAO,EAAC,CAAC;MACpF,MAAML,IAAG,GAAI,MAAMQ,QAAQ,CAACE,IAAI,EAAE;MAClC,IAAI,CAACT,aAAY,GAAID,IAAI,CAACC,aAAa;IACzC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}