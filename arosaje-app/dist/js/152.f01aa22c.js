"use strict";(self["webpackChunkarosaje"]=self["webpackChunkarosaje"]||[]).push([[152],{5152:function(s,e,a){a.r(e),a.d(e,{default:function(){return W}});var r=a(6252),o=a(9963),n=a(3577);const t={class:"col-md-12"},i={class:"card card-container"},l=(0,r._)("img",{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",class:"profile-img-card",alt:"logo"},null,-1),d={class:"form-group"},c=(0,r._)("label",{for:"username"},"Username",-1),m={class:"form-group"},u=(0,r._)("label",{for:"password"},"Password",-1),g={class:"form-group"},p=["disabled"],h={class:"spinner-border spinner-border-sm"},f=(0,r._)("span",null,"Login",-1),b={class:"form-group"},_={key:0,class:"alert alert-danger",role:"alert"};function w(s,e,a,w,v,k){const y=(0,r.up)("Field"),q=(0,r.up)("ErrorMessage"),F=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",t,[(0,r._)("div",i,[l,(0,r.Wm)(F,{onSubmit:k.handleLogin,"validation-schema":v.schema},{default:(0,r.w5)((()=>[(0,r._)("div",d,[c,(0,r.Wm)(y,{name:"username",type:"text",class:"form-control"}),(0,r.Wm)(q,{name:"username",class:"error-feedback"})]),(0,r._)("div",m,[u,(0,r.Wm)(y,{name:"password",type:"password",class:"form-control"}),(0,r.Wm)(q,{name:"password",class:"error-feedback"})]),(0,r._)("div",g,[(0,r._)("button",{class:"btn btn-primary btn-block",disabled:v.loading},[(0,r.wy)((0,r._)("span",h,null,512),[[o.F8,v.loading]]),f],8,p)]),(0,r._)("div",b,[v.message?((0,r.wg)(),(0,r.iD)("div",_,(0,n.zw)(v.message),1)):(0,r.kq)("",!0)])])),_:1},8,["onSubmit","validation-schema"])])])}a(7658);var v=a(2954),k=a(6310),y={name:"LoginComponent",components:{Form:v.l0,Field:v.gN,ErrorMessage:v.Bc},data(){const s=k.Ry().shape({username:k.Z_().required("Username is required!"),password:k.Z_().required("Password is required!")});return{loading:!1,message:"",schema:s}},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn}},created(){this.loggedIn&&this.$router.push("/profile")},methods:{handleLogin(s){this.loading=!0,this.$store.dispatch("auth/login",s).then((()=>{this.$router.push("/profile")}),(s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString()}))}}},q=a(3744);const F=(0,q.Z)(y,[["render",w]]);var W=F}}]);
//# sourceMappingURL=152.f01aa22c.js.map